import streamlit as st
import pandas as pd
import numpy as np
import plotly.express as px
import plotly.graph_objects as go
from datetime import datetime

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
st.set_page_config(
    page_title="–ê–Ω–∞–ª–∏–∑ –º—è—Å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤",
    page_icon="ü•©",
    layout="wide"
)

# –ó–∞–≥–æ–ª–æ–≤–æ–∫
st.title("ü•© –ê–Ω–∞–ª–∏–∑ –ø–∏—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –º—è—Å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤")
st.markdown("–ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –º—è—Å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤")

# –ë–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –º—è—Å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
@st.cache_data
def load_meat_products_data():
    # –ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –º—è—Å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–Ω–∞ 100 –≥)
    nutrition_data = {
        '–ü—Ä–æ–¥—É–∫—Ç': ['–ñ–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å', '–ñ–∞—è —Å —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ–º 3%', '–ñ–∞—è —Å —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ–º 5%', 
                   '–§–æ—Ä–º–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å', '–§–æ—Ä–º–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —Å —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ–º'],
        '–í–ª–∞–≥–∞_%': [73.0, 68.0, 65.0, 60.0, 58.0],
        '–ë–µ–ª–∫–∏_–≥': [21.4, 23.2, 24.5, 25.8, 27.1],
        '–ñ–∏—Ä—ã_–≥': [2.7, 2.5, 2.3, 15.2, 14.8],
        '–ö–∞–ª–æ—Ä–∏–∏_–∫–∫–∞–ª': [113, 118, 122, 245, 242],
        '–ù–∞—Ç—Ä–∏–π_–º–≥': [53, 680, 750, 850, 820],
        '–ñ–µ–ª–µ–∑–æ_–º–≥': [3.2, 3.8, 4.2, 3.5, 4.1],
        '–¶–∏–Ω–∫_–º–≥': [4.8, 5.3, 5.8, 4.5, 5.2]
    }
    
    # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
    processing_params = {
        '–ü—Ä–æ–¥—É–∫—Ç': ['–ñ–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å', '–ñ–∞—è —Å —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ–º 3%', '–ñ–∞—è —Å —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ–º 5%', 
                   '–§–æ—Ä–º–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å', '–§–æ—Ä–º–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —Å —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ–º'],
        '–í—Ä–µ–º—è_–∑–∞—Å–æ–ª–∫–∏_–¥–Ω–∏': [3, 3, 3, 2, 2],
        '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞_–æ–±—Ä–∞–±–æ—Ç–∫–∏_‚ÑÉ': [12, 12, 12, 75, 75],
        '–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è_–≤–ª–∞–∂–Ω–æ—Å—Ç—å_%': [70, 70, 70, 65, 65],
        '–í—Ä–µ–º—è_–æ–±—Ä–∞–±–æ—Ç–∫–∏_–¥–Ω–∏': [15, 15, 15, 1, 1],
        '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è_—ç–∫—Å—Ç—Ä–∞–∫—Ç–∞_%': [0, 3, 5, 0, 5]
    }
    
    # –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∫–∞—á–µ—Å—Ç–≤–∞
    quality_data = {
        '–ü–∞—Ä—Ç–∏—è': [f'MP{i:02d}' for i in range(1, 21)],
        '–ü—Ä–æ–¥—É–∫—Ç': np.random.choice(['–ñ–∞—è –∫–æ–Ω—Ç—Ä–æ–ª—å', '–ñ–∞—è —Å —ç–∫—Å—Ç—Ä–∞–∫—Ç–æ–º', '–§–æ—Ä–º–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç'], 20),
        '–í–ª–∞–≥–∞_%': np.random.normal(25, 5, 20),
        '–°–æ–ª—å_%': np.random.normal(6, 1, 20),
        '–ë–µ–ª–∫–∏_%': np.random.normal(45, 3, 20),
        'pH': np.random.normal(5.6, 0.3, 20),
        'aw': np.random.normal(0.82, 0.05, 20)
    }
    
    return pd.DataFrame(nutrition_data), pd.DataFrame(processing_params), pd.DataFrame(quality_data)

# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
nutrition_df, processing_df, quality_df = load_meat_products_data()

# –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
col1, col2 = st.columns([1, 2])

with col1:
    st.header("üìä –†–∞—Å—á–µ—Ç –ø–∏—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏")
    
    # –í—ã–±–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–∞
    product_type = st.selectbox(
        "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞",
        options=nutrition_df['–ü—Ä–æ–¥—É–∫—Ç'].values
    )
    
    # –í–≤–æ–¥ –≤–µ—Å–∞
    weight = st.number_input(
        "–í–µ—Å (–≥—Ä–∞–º–º)",
        min_value=1,
        max_value=500,
        value=50,
        step=10,
        help="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø–æ—Ä—Ü–∏—è: 20-100 –≥"
    )
    
    # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏
    st.subheader("üîß –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏")
    product_data = processing_df[processing_df['–ü—Ä–æ–¥—É–∫—Ç'] == product_type].iloc[0]
    
    st.write(f"**–í—Ä–µ–º—è –∑–∞—Å–æ–ª–∫–∏:** {product_data['–í—Ä–µ–º—è_–∑–∞—Å–æ–ª–∫–∏_–¥–Ω–∏']} –¥–Ω–µ–π")
    st.write(f"**–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:** {product_data['–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞_–æ–±—Ä–∞–±–æ—Ç–∫–∏_‚ÑÉ']}‚ÑÉ")
    st.write(f"**–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å:** {product_data['–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è_–≤–ª–∞–∂–Ω–æ—Å—Ç—å_%']}%")
    st.write(f"**–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:** {product_data['–í—Ä–µ–º—è_–æ–±—Ä–∞–±–æ—Ç–∫–∏_–¥–Ω–∏']} –¥–Ω–µ–π")
    if product_data['–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è_—ç–∫—Å—Ç—Ä–∞–∫—Ç–∞_%'] > 0:
        st.write(f"**–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —ç–∫—Å—Ç—Ä–∞–∫—Ç–∞:** {product_data['–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è_—ç–∫—Å—Ç—Ä–∞–∫—Ç–∞_%']}%")

with col2:
    st.header("üìà –ê–Ω–∞–ª–∏–∑ –ø–∏—â–µ–≤–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏")
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
    product_data = nutrition_df[nutrition_df['–ü—Ä–æ–¥—É–∫—Ç'] == product_type].iloc[0]
    
    # –†–∞—Å—á–µ—Ç –ø–∏—â–µ–≤–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏
    weight_factor = weight / 100
    nutrition_results = {
        '–ë–µ–ª–∫–∏': product_data['–ë–µ–ª–∫–∏_–≥'] * weight_factor,
        '–ñ–∏—Ä—ã': product_data['–ñ–∏—Ä—ã_–≥'] * weight_factor,
        '–ö–∞–ª–æ—Ä–∏–∏': product_data['–ö–∞–ª–æ—Ä–∏–∏_–∫–∫–∞–ª'] * weight_factor,
        '–ù–∞—Ç—Ä–∏–π': product_data['–ù–∞—Ç—Ä–∏–π_–º–≥'] * weight_factor,
        '–ñ–µ–ª–µ–∑–æ': product_data['–ñ–µ–ª–µ–∑–æ_–º–≥'] * weight_factor,
        '–¶–∏–Ω–∫': product_data['–¶–∏–Ω–∫_–º–≥'] * weight_factor
    }
    
    # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø–∏—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
    st.subheader(f"–ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å {weight}–≥ {product_type}")
    
    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞–∫–µ—Ç–∞ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
    col2_1, col2_2, col2_3 = st.columns(3)
    
    with col2_1:
        st.metric("üî• –ö–∞–ª–æ—Ä–∏–∏", f"{nutrition_results['–ö–∞–ª–æ—Ä–∏–∏']:.0f} –∫–∫–∞–ª")
        st.metric("üí™ –ë–µ–ª–∫–∏", f"{nutrition_results['–ë–µ–ª–∫–∏']:.1f} –≥")
        
    with col2_2:
        st.metric("üõ¢Ô∏è –ñ–∏—Ä—ã", f"{nutrition_results['–ñ–∏—Ä—ã']:.1f} –≥")
        st.metric("üßÇ –ù–∞—Ç—Ä–∏–π", f"{nutrition_results['–ù–∞—Ç—Ä–∏–π']:.0f} –º–≥")
        
    with col2_3:
        st.metric("üî¥ –ñ–µ–ª–µ–∑–æ", f"{nutrition_results['–ñ–µ–ª–µ–∑–æ']:.1f} –º–≥")
        st.metric("üîµ –¶–∏–Ω–∫", f"{nutrition_results['–¶–∏–Ω–∫']:.1f} –º–≥")

# –í–∏–∑—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
st.header("üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–¥—É–∫—Ç–æ–≤")

tab1, tab2, tab3 = st.tabs(["–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∏—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏", "–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞"])

with tab1:
    # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–∏—â–µ–≤–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
    fig1 = go.Figure()
    
    fig1.add_trace(go.Bar(
        x=nutrition_df['–ü—Ä–æ–¥—É–∫—Ç'], 
        y=nutrition_df['–ë–µ–ª–∫–∏_–≥'],
        name='–ë–µ–ª–∫–∏',
        marker_color='blue'
    ))
    
    fig1.add_trace(go.Bar(
        x=nutrition_df['–ü—Ä–æ–¥—É–∫—Ç'], 
        y=nutrition_df['–í–ª–∞–≥–∞_%'],
        name='–í–ª–∞–≥–∞',
        marker_color='green'
    ))
    
    fig1.update_layout(
        title="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –±–µ–ª–∫–æ–≤ –∏ –≤–ª–∞–≥–∏ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö",
        xaxis_title="–¢–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞",
        yaxis_title="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (–≥/100–≥)",
        height=400,
        barmode='group'
    )
    
    st.plotly_chart(fig1, use_container_width=True)

with tab2:
    # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏
    col1, col2 = st.columns(2)
    
    with col1:
        fig2 = px.bar(
            processing_df,
            x='–ü—Ä–æ–¥—É–∫—Ç',
            y='–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è_—ç–∫—Å—Ç—Ä–∞–∫—Ç–∞_%',
            title="–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —ç–∫—Å—Ç—Ä–∞–∫—Ç–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö",
            labels={'–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è_—ç–∫—Å—Ç—Ä–∞–∫—Ç–∞_%': '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —ç–∫—Å—Ç—Ä–∞–∫—Ç–∞ (%)'}
        )
        st.plotly_chart(fig2, use_container_width=True)
    
    with col2:
        fig3 = px.line(
            processing_df,
            x='–ü—Ä–æ–¥—É–∫—Ç',
            y='–í—Ä–µ–º—è_–æ–±—Ä–∞–±–æ—Ç–∫–∏_–¥–Ω–∏',
            title="–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤",
            markers=True
        )
        fig3.update_layout(xaxis_tickangle=-45)
        st.plotly_chart(fig3, use_container_width=True)

with tab3:
    # –ì—Ä–∞—Ñ–∏–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞
    st.subheader("–ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–∞—Ä—Ç–∏–π –ø–æ —Ç–∏–ø–∞–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤")
    
    fig4 = px.scatter(
        quality_df,
        x='–í–ª–∞–≥–∞_%',
        y='–°–æ–ª—å_%',
        color='–ü—Ä–æ–¥—É–∫—Ç',
        size='–ë–µ–ª–∫–∏_%',
        hover_data=['–ü–∞—Ä—Ç–∏—è'],
        title="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–ª–∞–≥–∏ vs –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–ª–∏ –ø–æ —Ç–∏–ø–∞–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤",
        labels={'–í–ª–∞–≥–∞_%': '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–ª–∞–≥–∏ (%)', '–°–æ–ª—å_%': '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–ª–∏ (%)'}
    )
    
    st.plotly_chart(fig4, use_container_width=True)
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –∫–∞—á–µ—Å—Ç–≤–∞
    st.subheader("–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ —Ç–∏–ø–∞–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤")
    
    col1, col2 = st.columns(2)
    
    with col1:
        fig5 = px.box(quality_df, x='–ü—Ä–æ–¥—É–∫—Ç', y='–í–ª–∞–≥–∞_%', title="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–ª–∞–≥–∏ –ø–æ —Ç–∏–ø–∞–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤")
        st.plotly_chart(fig5, use_container_width=True)
    
    with col2:
        fig6 = px.box(quality_df, x='–ü—Ä–æ–¥—É–∫—Ç', y='–ë–µ–ª–∫–∏_%', title="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –±–µ–ª–∫–æ–≤ –ø–æ —Ç–∏–ø–∞–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤")
        st.plotly_chart(fig6, use_container_width=True)

# –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
st.header("üí° –û–ø–∏—Å–∞–Ω–∏–µ –º—è—Å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏")

col1, col2 = st.columns(2)

with col1:
    st.subheader("ü•© –ü—Ä–æ–¥—É–∫—Ç –ñ–∞—è")
    st.info("""
    **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è:**
    - –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –º—è—Å–Ω–æ–π –ø—Ä–æ–¥—É–∫—Ç –∏–∑ –∫–æ–Ω–∏–Ω—ã
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å–æ–ª–∞ —Å —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–º–∏ —ç–∫—Å—Ç—Ä–∞–∫—Ç–∞–º–∏
    - –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —ç–∫—Å—Ç—Ä–∞–∫—Ç–∞: 3-5%
    - –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—É—à–∫–∞ –∏ —Å–æ–∑—Ä–µ–≤–∞–Ω–∏–µ
    
    **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
    - –£–ª—É—á—à–µ–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–æ–ª–µ–ø—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
    - –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –ø–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å
    - –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å
    - –ë–æ–≥–∞—Ç—ã–π –∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
    """)

with col2:
    st.subheader("üçñ –§–æ—Ä–º–æ–≤–∞–Ω–Ω—ã–µ –º—è—Å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã")
    st.info("""
    **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è:**
    - –ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (3 —Å–ª–æ—è)
    - –ù–∏–∂–Ω–∏–π —Å–ª–æ–π: –ø–µ—Ä–≤—ã–π –≤–∏–¥ –º—è—Å–∞
    - –°—Ä–µ–¥–Ω–∏–π —Å–ª–æ–π: –∂–∏—Ä–æ–≤–æ–π —Å–ª–æ–π
    - –í–µ—Ä—Ö–Ω–∏–π —Å–ª–æ–π: –≤—Ç–æ—Ä–æ–π –≤–∏–¥ –º—è—Å–∞
    - –¢–æ–ª—â–∏–Ω–∞ –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è: 1,5-2 —Å–º
    
    **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
    - –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–æ—Å—Ç–∞–≤
    - –ü—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥
    - –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—É—Ä–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
    - –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∂–∏—Ä–∞
    """)

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª
st.sidebar.header("üíæ –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö")
if st.sidebar.button("–°–∫–∞—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–∏—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"):
    csv = nutrition_df.to_csv(index=False)
    st.sidebar.download_button(
        label="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ CSV",
        data=csv,
        file_name=f"–¥–∞–Ω–Ω—ã–µ_–ø–∏—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏_–º—è—Å–Ω—ã—Ö_–ø—Ä–æ–¥—É–∫—Ç–æ–≤_{datetime.now().strftime('%Y%m%d')}.csv",
        mime="text/csv"
    )

# –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –≤ –ø–æ–¥–≤–∞–ª–µ
st.markdown("---")
st.markdown("""
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –∫ –¥–∞–Ω–Ω—ã–º:**
- –ù–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –º—è—Å–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–º–∏ —ç–∫—Å—Ç—Ä–∞–∫—Ç–∞–º–∏
- –ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞–Ω–∞ –Ω–∞ 100 –≥ —Å—ä–µ–¥–æ–±–Ω–æ–π —á–∞—Å—Ç–∏
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ä–µ–∂–∏–º–∞—Ö
- –î–∞–Ω–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–∏–π
- –ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —ç–∫—Å—Ç—Ä–∞–∫—Ç–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
""")
